var datumTokenizer=function(e){return Bloodhound.tokenizers.whitespace(e.title.rendered)},scoreSorter=function(e,r){return e.score<r.score?1:e.score>r.score?-1:0},sortByRelevance=function(e){var r=$(".tt-input").val().toLowerCase();for(var t in e){var o=e[t],n=0;n+=o.title.rendered.toLowerCase().indexOf(r)!==-1?50:0;for(var a in o.program_types){var i=o.program_types[a];n+=i.name.toLowerCase().indexOf(r)!==-1?25:0}for(var s in o.career_paths){var d=o.career_paths[s];n+=d.name.toLowerCase().indexOf(r)!==-1?10:0}o.score=n}return e.sort(scoreSorter),e},ucfDegreeSearch=function(e){var r=new Bloodhound({remote:{url:UCF_DEGREE_SEARCH.remote_path+UCF_DEGREE_SEARCH.query_params,filter:sortByRelevance,wildcard:"%q"},queryTokenizer:Bloodhound.tokenizers.whitespace,datumTokenizer:datumTokenizer});e(".degree-search-typeahead").typeahead({minLength:3,highlight:!0},{name:"terms",displayKey:function(e){return e.title.rendered},source:r.ttAdapter(),templates:{empty:['<div class="empty-message"><p>Unable to find any degrees matching that keyword...</p></div>'],suggestion:Handlebars.compile(UCF_DEGREE_SEARCH.suggestion)}}).on("typeahead:selected",function(e,r){window.location=r.link})};"undefined"!==jQuery&&jQuery(document).ready(function(e){ucfDegreeSearch(e)});